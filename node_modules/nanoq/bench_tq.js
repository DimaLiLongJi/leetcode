
var tinyQueue = require('tinyqueue');

var N = 10000000;

var data = [];
// WRITE TEST DATA
// for (var i = 0; i < N; i++) data[i] = Math.floor(Math.random() * 1000);
// require('fs').writeFileSync("./random.json", JSON.stringify(data));
// process.exit();
// WRITE TEST DATA

// Load consistent test data
data = JSON.parse(require('fs').readFileSync("./random.json", "utf8"));

var tq = tinyQueue(null, compare);

function compare(a, b) {
    return a - b;
}

console.time('tinyQueue ['+N+' items]');
for (i = 0; i < N; i++) tq.push(data[i]);
for (i = 0; i < N; i++) tq.pop();
console.timeEnd('tinyQueue ['+N+' items]');
